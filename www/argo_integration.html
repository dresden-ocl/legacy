<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

  <head>                                     
    <title>Dresden OCL Toolkit - Integrations</title>
    <link rel="stylesheet" type="text/css" href="ocltoolkit.css" />
  </head>
  
  <!--#include virtual="_header.ssi" -->

       <h1>Argo/UML integration</h1>

  <!--#include virtual="_menu.html" -->

       <h2>step 1: create the project</h2>

<p><a href="images/argo/screenshot_1.gif" target="blank"><img 
src="images/argo/screenshot_1_small.gif" style="border:0px;margin:5px;"/></a><br/>
After starting Argo/UML, create a UML diagramm and some additional OCL constraint:</p>

       <h2>step 2: generate Java code</h2>

<p><a href="images/argo/screenshot_2.gif" target="blank"><img 
src="images/argo/screenshot_2_small.gif" style="border:0px;margin:5px;"/></a><br/>
Generate code for all classes by selecting the according menu item:</p>

<p><a href="images/argo/screenshot_3.gif" target="blank"><img 
src="images/argo/screenshot_3_small.gif" style="border:0px;margin:5px;"/></a><br/>
Specify the path where to store the generated classes and press "Generate":</p>

<p>The code has been generated (<a href="images/argo/Person1.java" 
target="blank">Person1.java</a>) and looks like this:<br/>
<a href="images/argo/screenshot_4.gif"><img src="images/argo/screenshot_4_small.gif" style="border:0px;margin:5px auto;"/></a></p>

       <h2>step 3: personal modifications</h2>

<p>Modify the code for your purposes, e.g. add constructor and main methode (<a 
href="Person2.java" target="blank">Person2.java</a>):</p>


<table style="border:1px">
	<tr><td>
	<pre><code style="font-size:8pt;">
// FILE: /home/steffen/projects/ArgoUML/tests/test/Person.java

package test;
import java.util.*;

/** A class that represents ...
   *
   * @see OtherClasses
   * @author your_name_here
   * @invariant unnamedConstraint_0: married implies ( age >= 18 )
   */
class Person
{
  // Attributes

  /** An attribute that represents ...
   */
  public  int age;

  /** An attribute that represents ...
   */
  public  boolean married;

  // Associations

  // Operations

  public Person() {
    super();

    age = 17;
    married = true;
  }

  public String toString() {
    return
      ((married)?
       ("Married person"):
       ("Person")
      ) +
      ": age = " + age;
  }

  public static void main (String[] args) {
    Person p = new Person();

    System.out.println ("Created new person:");
    System.out.println (p);
  }
} /* end class Person */
	</code></pre>
	</td></tr>
</table>

        <h2>step 4: run the example </h2>

<p><img src="images/argo/screenshot_5.gif" style="border:0px;margin:5px auto;"/><br/>
Compile the source and start the program.</p>

        <h2>step 5: run the injector tool</h2>

<p><a href="images/argo/screenshot_6.gif"><img src="images/argo/screenshot_6_small.gif"  style="border:0px;margin:5px auto;"/></a><br/>
Run the injector tool to modify the source according to the specified OCL 
invariant</p>

<p>The resulting code looks like this (<a href="Person3.java" 
target="blank">Person3.java</a>):</p>

<table style="border:1px;">
<tr><td>
<pre><code style="font-size:8pt;">
// FILE: /home/steffen/projects/ArgoUML/tests/test/Person.java

package test;
import java.util.*;

/** A class that represents ...
   *
   * @see OtherClasses
   * @author your_name_here
   * @invariant unnamedConstraint_0: married implies ( age >= 18 )
   */
class Person
{
  // Attributes

  /** An attribute that represents ...
   */
  public  int age;

  /** An attribute that represents ...
   */
  public  boolean married;

  // Associations

  // Operations

  public Person(tudresden.ocl.injection.lib.WrapperDummy wrappedbyocl) {
    super();

    age = 17;
    married = true;
  }

  public String toString_wrappedbyocl_test_Person() {
    return
      ((married)?
       ("Married person"):
       ("Person")
      ) +
      ": age = " + age;
  }

  public static void main (String[] args) {
    Person p = new Person();

    System.out.println ("Created new person:");
    System.out.println (p);
  }
/**
A wrapper for injection. Generated automatically, DO NOT CHANGE!
@author ocl_injector
@see #Person(tudresden.ocl.injection.lib.WrapperDummy)
*/public Person(){
this((tudresden.ocl.injection.lib.WrapperDummy)null);
try{tudresden.ocl.injection.ocl.lib.Invariant.checking_flag=true;
tudresden.ocl.injection.ocl.lib.Invariant.checkVacantInvariants();
}finally{tudresden.ocl.injection.ocl.lib.Invariant.checking_flag=false;}
}/**
A wrapper for injection. Generated automatically, DO NOT CHANGE!
@author ocl_injector
@see #toString_wrappedbyocl_test_Person()
*/public String toString(){
String result;
if(tudresden.ocl.injection.ocl.lib.Invariant.checking_flag)
result=toString_wrappedbyocl_test_Person();
else{
checkForChangedFeatures();
try{tudresden.ocl.injection.ocl.lib.Invariant.checking_flag=true;
tudresden.ocl.injection.ocl.lib.Invariant.checkVacantInvariants();
}finally{tudresden.ocl.injection.ocl.lib.Invariant.checking_flag=false;}
result=toString_wrappedbyocl_test_Person();
checkForChangedFeatures();
try{tudresden.ocl.injection.ocl.lib.Invariant.checking_flag=true;
tudresden.ocl.injection.ocl.lib.Invariant.checkVacantInvariants();
}finally{tudresden.ocl.injection.ocl.lib.Invariant.checking_flag=false;}
}
return result;
}/**
A backup for detecting modifications. Generated automatically, DO NOT CHANGE!
@author ocl_injector
@see #age
*/private int age_oclbackup812374=age;/**
Contains observers for modifications of this feature. Generated automatically, 
DO NOT CHANGE!
@author ocl_injector
@see #age
*/public final java.util.HashSet age_oclobservinginvariants812374=new 
java.util.HashSet();/**
A backup for detecting modifications. Generated automatically, DO NOT CHANGE!
@author ocl_injector
@see #married
*/private boolean married_oclbackup812374=married;/**
Contains observers for modifications of this feature. Generated automatically, 
DO NOT CHANGE!
@author ocl_injector
@see #married
*/public final java.util.HashSet married_oclobservinginvariants812374=new 
java.util.HashSet();/**
Checks object features, whether they have changed. Generated automatically, DO 
NOT CHANGE!
@author ocl_injector
*/private void checkForChangedFeatures(){
if(age!=age_oclbackup812374){age_oclbackup812374=age;
tudresden.ocl.injection.ocl.lib.Invariant.notifyObservingInvariants(
   age_oclobservinginvariants812374);
}
if(married!=married_oclbackup812374){married_oclbackup812374=married;
tudresden.ocl.injection.ocl.lib.Invariant.notifyObservingInvariants(
   married_oclobservinginvariants812374);
}
}/**
An object representing ocl invariant unnamedConstraint_0 on this object. 
Generated automatically, DO NOT CHANGE!
@author ocl_injector
*/private final tudresden.ocl.injection.ocl.lib.Invariant 
zzzCheckOclInvariantObject812374_unnamedConstraint_0=new 
tudresden.ocl.injection.ocl.lib.Invariant("unnamedConstraint_0", this);/**
Checks ocl invariant unnamedConstraint_0 on this object. Generated 
automatically, DO NOT CHANGE!
@author ocl_injector
*/public final void zzzCheckOclInvariantMethod812374_unnamedConstraint_0(){
tudresden.ocl.lib.OclAnyImpl.setFeatureListener(
   zzzCheckOclInvariantObject812374_unnamedConstraint_0);
final tudresden.ocl.lib.OclAnyImpl 
tudOclNode0=tudresden.ocl.lib.Ocl.toOclAnyImpl( 
tudresden.ocl.lib.Ocl.getFor(this) );
final tudresden.ocl.lib.OclBoolean 
tudOclNode1=tudresden.ocl.lib.Ocl.toOclBoolean(tudOclNode0.getFeature("married"));
final tudresden.ocl.lib.OclInteger 
tudOclNode2=tudresden.ocl.lib.Ocl.toOclInteger(tudOclNode0.getFeature("age"));
final tudresden.ocl.lib.OclInteger tudOclNode3=new 
tudresden.ocl.lib.OclInteger(18);
final tudresden.ocl.lib.OclBoolean 
tudOclNode4=tudOclNode2.isGreaterEqual(tudOclNode3);
final tudresden.ocl.lib.OclBoolean tudOclNode5=tudOclNode1.implies(tudOclNode4);
tudresden.ocl.lib.OclAnyImpl.clearFeatureListener();
if(!tudOclNode5.isTrue())System.out.println("violated ocl invariant 
'unnamedConstraint_0' on object '"+this+"'.");
}} /* end class Person */
	</code></pre>
	</td></tr>
</table>

        <h2>step 6: run the example again</h2>

<p><a href="images/argo/screenshot_7.gif"><img src="images/argo/screenshot_7_small.gif"  style="border:0px;margin:5px auto;"/></a><br/>
Compile and start again.</p>

  <!--#include virtual="_footer.ssi" -->

</html>