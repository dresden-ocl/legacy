
./compileAll

rm -rf temp-jar

mkdir -p temp-jar/xerces
cd temp-jar/xerces
jar xf ../../xerces.jar
cd ../..

JARDIR=jars
mkdir -p ${JARDIR}

export LIBFILES="\
	tudresden/ocl/lib/*.class \
	tudresden/ocl/injection/lib/*.class"

jar -cf ${JARDIR}/dresden-ocl-lib.jar $LIBFILES


export ARGOFILES="\
	$LIBFILES \
	tudresden/ocl/*.class \
	tudresden/ocl/images/*.gif \
	tudresden/ocl/normalize/*.class \
	tudresden/ocl/check/*.class \
	tudresden/ocl/check/bootstrap/*.class \
	tudresden/ocl/check/bootstrap/constraints.txt \
	tudresden/ocl/check/types/*.class \
	tudresden/ocl/codegen/*.class \
	tudresden/ocl/parser/*.class \
	tudresden/ocl/parser/analysis/*.class \
	tudresden/ocl/parser/node/*.class \
	tudresden/ocl/parser/lexer/*.class \
	tudresden/ocl/parser/lexer/lexer.dat \
	tudresden/ocl/parser/parser/*.class \
	tudresden/ocl/parser/parser/parser.dat"

jar -cf ${JARDIR}/ocl-argo.jar $ARGOFILES


export ALLFILES="\
	$ARGOFILES \
	tudresden/ocl/check/types/xmifacade/*.class \
	tudresden/ocl/check/types/testfacade/*.class \
	tudresden/ocl/injection/*.class \
	tudresden/ocl/test/royloy/*.java \
	tudresden/ocl/test/royloy/*.class"

jar -cfm ${JARDIR}/dresden-ocl-demo.jar     demo.manifest     $ALLFILES -C temp-jar/xerces .
jar -cfm ${JARDIR}/dresden-ocl-injector.jar injector.manifest $ALLFILES -C temp-jar/xerces .


jar -cfM ${JARDIR}/royloy.jar \
	tudresden/ocl/test/royloy/*.java \
	tudresden/ocl/test/royloy/oclexpressions \
	tudresden/ocl/test/TestInjection.*


rm -rf temp-jar
