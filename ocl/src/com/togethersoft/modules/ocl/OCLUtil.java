/* Generated by Together */

package com.togethersoft.modules.ocl;

import com.togethersoft.openapi.rwi.*;

/**
 * @author Stefan Ocke 
 */
public class OCLUtil {
    public static String getContextString(RwiElement context) {
        if (RwiShapeType.OPERATION.equals(context.getProperty(RwiProperty.SHAPE_TYPE))) {
            String signature = "";
            RwiNode container = ((RwiMember)context).getContainingNode();
            //issues to fix:
            //fully qualified parameter and return types
            //parameters without names ? (only possible in imported classes ...)
            signature += container.getProperty(RwiProperty.NAME);
            signature += "::";
            signature += context.getProperty(RwiProperty.NAME);
            signature += "(";
            signature += context.getProperty(RwiProperty.UML_PARAMETERS_TEXT);
            signature += ")";
            String returntype = context.getProperty(RwiProperty.RETURN_TYPE);
            if (returntype != null && returntype.length() > 0 && !returntype.equals("void")) {
                signature += ":";
                signature += returntype;
            }
            return "context " + signature;
        } else if (RwiShapeType.CLASS.equals(context.getProperty(RwiProperty.SHAPE_TYPE))) {
            return "context " + context.getProperty(RwiProperty.NAME);
        } else
            return "";
    }
}
