package tudresden::ocl20::benchmark::testdata::b2

	
	
context Person::birth(aName:String, aGender:Gender)
pre: name.isUndefined and civstat.isUndefined and
--pre  freshUnlinkedPerson: name.isUndefined and civstat.isUndefined and
     gender.isUndefined and alive.isUndefined and
     wife.isUndefined and husband.isUndefined
-- post nameAssigned: name=aName -- equivalent to 'aName=self.name'
-- post civstatAssigned: civstat=Gender::single
-- post genderAssigned: gender=aGender
-- post isAliveAssigned: alive=true -- equivalent to 'alive'

context Person::marry(aSpouse:Person)
pre  aSpouseDefined: aSpouse.isDefined
pre  isAlive: alive
pre  aSpouseAlive: aSpouse.alive
pre  isUnmarried: civstat<>Civilstatus::married
pre  aSpouseUnmarried: aSpouse.civstat<>Civilstatus::married
pre  differentGenders: gender<>aSpouse.gender
post isMarried: civstat=Civilstatus::married
post femaleHasMarriedHusband: gender=Gender::female implies
     husband=aSpouse and husband.civstat=Civilstatus::married
post maleHasMarriedWife: gender=Gender::male implies
     wife=aSpouse and wife.civstat=Civilstatus::married

context Person::divorce()
pre  isMarried: civstat=Civilstatus::married
pre  isAlive: alive
pre  husbandAlive: gender=Gender::female implies husband.alive
pre  wifeAlive: gender=Gender::male implies wife.alive
post isDivorced: civstat=Civilstatus::divorced
post husbandDivorced: gender=Gender::female implies
     husband.isUndefined and husband@pre.civstat=Civilstatus::divorced
post wifeDivorced: gender=Gender::male implies
     wife.isUndefined and wife@pre.civstat=Civilstatus::divorced

context Person::death()
pre  isAlive: alive
post notAlive: not(alive)
post husbandWidowed: gender=Gender::female and husband.isDefined implies
     husband@pre.wife.isUndefined and husband@pre.civstat=Civilstatus::widowed
post wifeWidowed: gender=Gender::male and wife.isDefined implies
     wife@pre.husband.isUndefined and wife@pre.civstat=Civilstatus::widowed

context Person::spouse():Person
def : =if gender=Gender::female then husband else wife endif



	
------------------------------------------------------------------------
endpackage